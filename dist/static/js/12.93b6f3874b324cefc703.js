webpackJsonp([12],{129:function(e,t,a){a(478);var n=a(61)(a(404),a(514),"data-v-60611014",null);e.exports=n.exports},165:function(e,t,a){e.exports={default:a(167),__esModule:!0}},167:function(e,t,a){a(169),e.exports=a(6).Object.assign},168:function(e,t,a){"use strict";var n=a(12),o=a(34),r=a(18),i=a(32),s=a(64),l=Object.assign;e.exports=!l||a(9)(function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var a=i(e),l=arguments.length,d=1,p=o.f,c=r.f;l>d;)for(var u,m=s(arguments[d++]),f=p?n(m).concat(p(m)):n(m),h=f.length,A=0;h>A;)c.call(m,u=f[A++])&&(a[u]=m[u]);return a}:l},169:function(e,t,a){var n=a(10);n(n.S+n.F,"Object",{assign:a(168)})},404:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(165),o=a.n(n);t.default={data:function(){return{formValidate:{name:"",manage:"",personal:""},ruleValidate:{name:[{required:!0,message:"请填写部门名称",trigger:"change"},{validator:function(e,t,a){""===t.trim()?a(new Error("请输入部门名称")):t.trim().length>50?a(new Error("长度不能超过50个字")):a()},trigger:"blur"}],manage:[{message:"请填写上级部门",trigger:"change"}],personal:[{required:!0,message:"请填写部门负责人",trigger:"change"}]},upList:[],personalList:[],options1:[],options2:[],submitData:{deptName:"",pid:"",managerId:""}}},mounted:function(){this.initMagagement()},methods:{handleSubmit:function(e,t){var a=this;this.submitData.deptName=this.formValidate.name,this.submitData.pid=this.formValidate.manage,this.submitData.managerId=this.formValidate.personal,""==this.submitData.pid&&(this.submitData.pid=0),this.$refs[e].validate(function(n){n&&a.$http.post("/isp-process-server/depart/add",a.submitData).then(function(n){0==n.data.errorCode?(a.$Message.success("保存成功"),1==t?setTimeout(function(){a.$router.push("setUpDepartment"),a.$refs[e].resetFields(),a.submitData={}},1e3):setTimeout(function(){a.$refs[e].resetFields(),a.submitData={}},1e3)):a.$Modal.error({title:"提示",content:n.data.errorMsg,onOk:function(){a.formValidate.name=""}})})})},handleReset:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"是否取消当前操作并跳转至列表页？",cancel:"取消",onOk:function(){t.$router.push("docManagemengt")},onCancel:function(){}})},initMagagement:function(){var e=this;this.$http.get("/isp-process-server/depart/getList").then(function(t){if(0==t.data.errorCode){e.upList=o()([],t.data.result);for(var a=0;a<e.upList.length;a++)e.upList[a].id=e.upList[a].id.toString();console.log(e.upList)}}).catch(function(e){console.log(e)}),this.$http.get("/isp-process-server/employee/getList").then(function(t){0==t.data.errorCode&&(e.personalList=o()([],t.data.result))}).catch(function(e){console.log(e)})},remoteMethod1:function(e){var t=this;""!==e?(this.loading1=!0,setTimeout(function(){t.loading1=!1;var a=t.upList.map(function(e){return{label:e.deptName,value:e.id}});t.options1=a.filter(function(t){return t.label.indexOf(e)>-1}).slice(0,5)},200)):this.options1=[]},remoteMethod2:function(e){var t=this;""!==e?(this.loading1=!0,setTimeout(function(){t.loading1=!1;var a=t.personalList.map(function(e){return{label:e.displayName,value:e.employeeId}});t.options2=a.filter(function(t){return t.label.indexOf(e)>-1}).slice(0,5)},200)):this.options2=[]}}}},445:function(e,t,a){t=e.exports=a(120)(!0),t.push([e.i,".setUp-de .title[data-v-60611014]{margin:58px 0 30px 36px;font-size:14px;color:#354052}.setUp-de .text[data-v-60611014]{width:400px;height:38px}.setUp-de .save[data-v-60611014],.setUp-de .saveNext[data-v-60611014]{margin-right:20px;width:120px;height:38px;background:#4373f3;border-radius:2px;border-color:#4373f3}.setUp-de .save[data-v-60611014]:hover,.setUp-de .saveNext[data-v-60611014]:hover{opacity:.9}.setUp-de .cancel[data-v-60611014]{width:120px;height:38px;background:#484e58;border-radius:2px;color:#fff;border-color:#484e58}.setUp-de .cancel[data-v-60611014]:hover{opacity:.9}","",{version:3,sources:["/Users/yiche/Desktop/company/newfe/isp_feweb/src/pages/approval/setUp/SetUp.vue"],names:[],mappings:"AACA,kCACE,wBAAyB,AACzB,eAAgB,AAChB,aAAe,CAChB,AACD,iCACE,YAAa,AACb,WAAa,CACd,AACD,sEACE,kBAAmB,AACnB,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,oBAAsB,CACvB,AACD,kFACI,UAAa,CAChB,AACD,mCACE,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,WAAY,AACZ,oBAAsB,CACvB,AACD,yCACI,UAAa,CAChB",file:"SetUp.vue",sourcesContent:["\n.setUp-de .title[data-v-60611014] {\n  margin: 58px 0 30px 36px;\n  font-size: 14px;\n  color: #354052;\n}\n.setUp-de .text[data-v-60611014] {\n  width: 400px;\n  height: 38px;\n}\n.setUp-de .saveNext[data-v-60611014], .setUp-de .save[data-v-60611014] {\n  margin-right: 20px;\n  width: 120px;\n  height: 38px;\n  background: #4373F3;\n  border-radius: 2px;\n  border-color: #4373F3;\n}\n.setUp-de .saveNext[data-v-60611014]:hover, .setUp-de .save[data-v-60611014]:hover {\n    opacity: 0.9;\n}\n.setUp-de .cancel[data-v-60611014] {\n  width: 120px;\n  height: 38px;\n  background: #484E58;\n  border-radius: 2px;\n  color: #fff;\n  border-color: #484E58;\n}\n.setUp-de .cancel[data-v-60611014]:hover {\n    opacity: 0.9;\n}\n"],sourceRoot:""}])},478:function(e,t,a){var n=a(445);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(121)("566b0572",n,!0)},514:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setUp-de"},[a("p",{staticClass:"title"},[e._v("设置部门")]),e._v(" "),a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("Form-item",{attrs:{label:"部门名称",prop:"name"}},[a("Input",{staticClass:"text fl",attrs:{placeholder:"请输入部门名称"},model:{value:e.formValidate.name,callback:function(t){e.formValidate.name=t},expression:"formValidate.name"}})],1),e._v(" "),a("Form-item",{attrs:{label:"上级部门",prop:"manage"}},[a("Select",{staticClass:"text fl",attrs:{filterable:"",remote:"","remote-method":e.remoteMethod1,clearable:!0,loading:e.loading1},model:{value:e.formValidate.manage,callback:function(t){e.formValidate.manage=t},expression:"formValidate.manage"}},e._l(e.options1,function(t){return a("Option",{key:new Date,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("Form-item",{attrs:{label:"部门负责人",prop:"personal"}},[a("Select",{staticClass:"text fl",attrs:{filterable:"",remote:"","remote-method":e.remoteMethod2,clearable:!0,loading:e.loading1},model:{value:e.formValidate.personal,callback:function(t){e.formValidate.personal=t},expression:"formValidate.personal"}},e._l(e.options2,function(t){return a("Option",{key:new Date,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("Form-item",[a("Button",{staticClass:"saveNext fl",attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate",1)}}},[e._v("保存并继续")]),e._v(" "),a("Button",{staticClass:"save fl",attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate",2)}}},[e._v("保存")]),e._v(" "),a("Button",{staticClass:"cancel fl",attrs:{type:"ghost"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=12.93b6f3874b324cefc703.js.map